webpackJsonp([3],{RRaj:function(t,e){},gMQE:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("/5sW"),a=s("mtWM"),r=s.n(a),o=s("DWlv"),l=s.n(o);i.default.use(l.a,r.a);var n={name:"JigManager",created:function(){console.log("Created JigManager "),this.tableBusy=!0,this.getJigDetails()},mounted:function(){},destroyed:function(){console.log("Destroyed Jig Manager")},data:function(){return{errors:[],tableFields:[{key:"jigid",sortable:!0,label:"Jig ID"},{key:"jigname",sortable:!0,label:"Jig Name"},{key:"owner",sortable:!0,label:"Owner"},{key:"status",sortable:!0,label:"Status"},{key:"actions",sortable:!1,label:"Actions"}],tableItems:[{jigid:1,jigname:"testjig1",owner:"None",status:"Idle"}],tableBusy:!1,tableSortBy:"jigid",tableSortDesc:!1,filter:null,filterOn:[],jigViewDetails:{},jigDetailsBusy:!1}},methods:{getJigDetails:function(t){var e=this;this.errors=[],this.axios.get("/getjigtable").then(function(t){console.log(t),1==t.data.status?(e.tableBusy=!1,console.log("table data recieved"),e.tableItems=t.data.rslt,console.log(e.tableItems)):e.errors.push(t.data.error)}).catch(function(t){console.error(t),e.errors.push(t)})},reserveJig:function(t){var e=this;console.log("Reserve Jig",t.jigid,"for",this.$store.state.userData.username);var s={jigid:t.jigid,jigowner:this.$store.state.userData.username};this.errors=[],this.axios.post("/postreservejig",s).then(function(t){console.log(t),1==t.data.status?(console.log("Jig Reservation Queued"),alert("Jig Reservation request has been queued. Please check back in a while"),e.jigViewDetails=t.data.rslt,e.jigDetailsBusy=!1):e.errors.push(t.data.error)}).catch(function(t){console.error(t),e.errors.push(t)})},viewJig:function(t){var e=this;t.toggleDetails(),this.jigDetailsBusy=!0,console.log("View Jig",t.item.jigid),this.errors=[],this.axios.post("/postjigdetails",t.item).then(function(t){console.log(t),1==t.data.status?(console.log("jig details received"),e.jigViewDetails=t.data.rslt,e.jigDetailsBusy=!1):e.errors.push(t.data.error)}).catch(function(t){console.error(t),e.errors.push(t)})},jigTableButtonName:function(t){return"Idle"==t.item.status?"Reserve":"Reserved"==t.item.status?"Release":void 0},isJigTableButtonDisabled:function(t){return"None"!=t.item.owner&&t.item.owner!=this.$store.state.userData.username}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{attrs:{cols:"8"}},[s("h3",[t._v("Jig Status")])]),t._v(" "),s("b-col",[s("b-button",{attrs:{pill:"",variant:"success"}},[t._v("Add Jig")])],1)],1)],1),t._v(" "),s("div",t._l(t.errors,function(e){return s("p",{key:e.id,staticClass:"text_warning"},[t._v(t._s(e))])}),0),t._v(" "),s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),s("b-input-group-append",[s("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1)],1),t._v(" "),s("b-table",{staticClass:"jig-table",attrs:{hover:"",responsive:"","no-border-collapse":"",busy:t.tableBusy,items:t.tableItems,fields:t.tableFields,"sort-by":t.tableSortBy,"sort-desc":t.tableSortDesc,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(e){t.tableSortBy=e},"update:sort-by":function(e){t.tableSortBy=e},"update:sortDesc":function(e){t.tableSortDesc=e},"update:sort-desc":function(e){t.tableSortDesc=e}},scopedSlots:t._u([{key:"table-busy",fn:function(){return[s("div",{staticClass:"text-center text-danger my-2"},[s("b-spinner",{staticClass:"align-middle"}),t._v(" "),s("strong",[t._v("Loading...")])],1)]},proxy:!0},{key:"cell(actions)",fn:function(e){return[s("b-dropdown",{staticClass:"m-2",attrs:{disabled:t.isJigTableButtonDisabled(e),split:""},on:{click:function(s){return t.reserveJig(e.item)}},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(t._s(t.jigTableButtonName(e)))]},proxy:!0}],null,!0)},[t._v(" "),s("b-dropdown-item",[t._v("Update")]),t._v(" "),s("b-dropdown-item",[t._v("Delete")]),t._v(" "),s("b-dropdown-item",{on:{click:function(s){return t.viewJig(e)}}},[t._v(t._s(e.detailsShowing?"Hide":"Show")+" View")])],1)]}},{key:"row-details",fn:function(e){return[t.jigDetailsBusy?s("div",{staticClass:"text-center text-danger my-2"},[s("b-spinner",{staticClass:"align-middle"}),t._v(" "),s("strong",[t._v("Loading...")])],1):s("div",[s("b-card",[s("b-row",{staticClass:"mb-2"},[s("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[s("b",[t._v("Location:")])]),t._v(" "),s("b-col",[t._v(t._s(t.jigViewDetails.location))])],1),t._v(" "),s("b-row",{staticClass:"mb-2"},[s("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[s("b",[t._v("No of CEPs:")])]),t._v(" "),s("b-col",[t._v(t._s(t.jigViewDetails.cepList.length))])],1),t._v(" "),s("b-row",{staticClass:"mb-2"},[s("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[s("b",[t._v("Jig Type:")])]),t._v(" "),s("b-col",[t._v(t._s(t.jigViewDetails.jigType))])],1),t._v(" "),s("b-button",{attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("Hide Details")])],1)],1)]}}])})],1),t._v(" "),s("div")],1)},staticRenderFns:[]};var u=s("VU/8")(n,c,!1,function(t){s("RRaj")},"data-v-5e95e0f6",null);e.default=u.exports}});
//# sourceMappingURL=3.53cd4a7ff1d965244545.js.map